# juce-draggableListBox
In July 2018, Charles Scheirmeyer (aka *matkatmusic*) submitted a [query to the JUCE Forum](https://forum.juce.com/t/listbox-drag-to-reorder-solved/28477), asking for help implementing drag-to-reorder functionality in the JUCE *ListBox* class. Shortly afterward, the forum post was marked "Solved", and Charles was kind enough to provide a [full example implementation hosted on BitBucket](https://bitbucket.org/MatkatMusic/listboxreorder/).

This is a revised version of Charles's code, in which I have separated the app-specific code from the more generic code. (See the commit history for the refactoring steps involved.)

To implement a JUCE list-box with drag-to-reorder capability:
1. Include *DraggableListBox.h* and *DraggableListBox.cpp* in your JUCE project.
2. Define your own app-specific class for your actual list data, which inherits from *DraggableListBoxItemData*, ensuring that you override the following member functions:
 - *getNumItems()* should return the number of list elements.
 - *paintContents()* is a callback to render one specific list item.
 - *moveBefore()* and *moveAfter()* are calbacks which re-order the list, moving the dragged item either before or after the item it was dropped onto.
3. Declare your list-box widget using class *DraggableListBox*, plus two companion objects:
 - one object of *DraggableListBoxModel*
 - one object of the app-specific data class you defined at step 2.
4. Initialize your *DraggableListBoxModel* object with references to your *DraggableListBox* and your app-specific data object.
5. Set your *DraggableListBox*'s model to be your *DraggableListBoxModel* object (by calling the former's *setModel()* member).

See this repo's *MainContentComponent.h* and *MainContentComponent.cpp*. The file *Main.cpp* is auto-generated by the Projucer and completely generic.
